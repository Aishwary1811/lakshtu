<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Lakshtuu ðŸŽ‰ðŸ’–</title>
<style>
  :root{
    --accent:#ff6b9a;
    --bg1:#fff1f6;
    --bg2:#ffe6f0;
    --soft:#ffdfee;
  }
  html,body{height:100%;margin:0;font-family:Inter, Poppins, system-ui, sans-serif;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:#222;overflow-x:hidden;}
  .center {display:flex;flex-direction:column;align-items:center;justify-content:center;}
  /* Floating hearts */
  .heart{position:fixed;bottom:-20px;font-size:20px;pointer-events:none;animation:floatUp 4s linear infinite;z-index:9000;opacity:0.95}
  @keyframes floatUp{0%{transform:translateY(0) scale(1)}100%{transform:translateY(-800px) scale(1.7);opacity:0}}
  /* Balloons */
  .balloon{position:fixed;bottom:-200px;width:70px;height:90px;border-radius:60%/65%;pointer-events:none;z-index:8500;opacity:0.95}
  @keyframes rise{0%{transform:translateY(0) rotate(0)}100%{transform:translateY(-120vh) rotate(360deg)}}
  /* Sparkles */
  .sparkle{
    position:fixed;top:10%;left:50%;width:14px;height:14px;border-radius:50%;box-shadow:0 0 16px 6px rgba(255,255,255,0.25);opacity:0.9;mix-blend-mode:screen;z-index:8000;pointer-events:none;animation:glow 2.6s linear infinite;
  }
  @keyframes glow{0%{transform:scale(.8);opacity:.7}50%{transform:scale(1.4);opacity:1}100%{transform:scale(.8);opacity:.7}}

  /* Gift */
  #giftWrap{width:220px;height:220px;background:url('https://cdn-icons-png.flaticon.com/512/2541/2541988.png') center/contain no-repeat;margin:3.5rem auto;cursor:pointer;transition:transform .3s}
  #giftWrap:hover{transform:scale(1.06)}

  /* Typing message card */
  #messageCard{max-width:880px;margin:8px auto 12px auto;padding:20px;border-radius:18px;background:linear-gradient(90deg,rgba(255,255,255,0.9),rgba(255,250,250,0.7));box-shadow:0 6px 30px rgba(0,0,0,0.08);font-size:22px;color:#e91e63;display:none}
  .typed{white-space:pre-wrap;font-weight:700;font-size:26px;letter-spacing:0.6px}

  /* Cake */
  #cakeScene{display:none;margin:20px auto 10px; text-align:center}
  #cake{width:260px;border-radius:16px;cursor:pointer;transition:transform .9s, filter .6s;box-shadow:0 14px 40px rgba(0,0,0,0.12)}
  .cake-cut{transform:rotate(-18deg) scale(1.05);filter:brightness(1.05) saturate(1.02)}

  /* Confetti */
  .confetti{position:fixed;width:10px;height:14px;pointer-events:none;border-radius:2px;z-index:9999}

  /* Button */
  #cutBtn{display:none;margin-top:12px;padding:12px 20px;border-radius:10px;background:var(--accent);color:white;border:0;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.12)}

  /* Messages & Gallery */
  #messagesWrap{display:none;max-width:1000px;margin:28px auto;padding:8px}
  .msg{background:rgba(255,255,255,0.9);margin:12px auto;padding:14px 18px;border-radius:12px;color:#d63384;font-weight:600;max-width:820px;opacity:0;transform:translateY(24px);transition:all .7s}
  .msg.show{opacity:1;transform:translateY(0)}
  .gallery{display:flex;flex-wrap:wrap;justify-content:center;margin-top:18px;gap:14px}
  .gallery img{width:220px;height:220px;object-fit:cover;border-radius:14px;box-shadow:0 12px 30px rgba(0,0,0,0.12);opacity:0;transform:translateY(22px);transition:all .7s}
  .gallery img.show{opacity:1;transform:translateY(0)}

/* small screens */
@media (max-width:640px){
  #cake{width:190px}
  .gallery img{width:45vw;height:45vw}
  #giftWrap{width:160px;height:160px}
  .typed{font-size:20px}
}
</style>
</head>
<body>

<!-- floating hearts -->
<script>
  // create hearts continuously
  setInterval(()=>{ const h=document.createElement('div');h.className='heart';h.innerText='â¤ï¸';h.style.left=Math.random()*100+'vw';h.style.fontSize=(14+Math.random()*24)+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),4200); }, 350);
</script>

<!-- balloons (random positions) -->
<script>
  const balloonColors = ['#ffd1e6','#ffecbf','#ffd6f3','#c8f7ff','#ffe3f0'];
  for(let i=0;i<6;i++){
    const b=document.createElement('div');
    b.className='balloon';
    b.style.left=(8 + Math.random()*84)+'vw';
    b.style.background=balloonColors[i%balloonColors.length];
    b.style.animation=`rise ${10+Math.random()*18}s linear ${Math.random()*2}s infinite`;
    b.style.borderTopLeftRadius='60%';
    b.style.borderTopRightRadius='60%';
    document.body.appendChild(b);
  }
</script>

<!-- sparkles -->
<div class="sparkle" style="left:12%;top:18%;width:10px;height:10px"></div>
<div class="sparkle" style="left:80%;top:12%;width:14px;height:14px;animation-duration:3.2s"></div>
<div class="sparkle" style="left:52%;top:8%;width:12px;height:12px;animation-duration:2.8s"></div>

<!-- GIFT -->
<div id="giftWrap" class="center" title="Click to open your surprise!">
  <div id="giftWrapInner" style="width:100%;height:100%"></div>
</div>

<!-- MESSAGE card (typing) -->
<div id="messageCard" class="center" role="note" aria-live="polite">
  <div class="typed" id="typedText"></div>
</div>

<!-- Cake scene -->
<div id="cakeScene" class="center">
  <img id="cake" src="cake.jpg" alt="Birthday Cake image">
  <button id="cutBtn">Cut the Cake ðŸŽ‚</button>
</div>

<!-- Messages & Gallery -->
<div id="messagesWrap">
  <div class="msg" id="m1">âœ¨ Happy Birthday Lakshtuu! You are my sunshine. âœ¨</div>
  <div class="msg" id="m2">ðŸ’— I love you, Lakshtuu â€” today and always. ðŸ’—</div>
  <div class="msg" id="m3">ðŸŒ¸ May your days be full of laughter and love. ðŸŒ¸</div>
  <div class="msg" id="m4">ðŸ’ž Thank you for being you â€” magical and kind. ðŸ’ž</div>

  <div class="gallery" id="gallery">
    <img id="p1" src="photo1.jpg" alt="photo1">
    <img id="p2" src="photo2.jpg" alt="photo2">
    <img id="p3" src="photo3.png" alt="photo3">
  </div>
</div>

<!-- confetti and music elements -->
<audio id="lofiSong" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="auto"></audio>

<script>
/* ---------- typing effect ---------- */
const lines = [
  "ðŸŽ‰ Happy Birthday, Lakshtuu! ðŸŽ‰",
  "ðŸ’– I love you, Lakshtuu. ðŸ’–",
  "Click below to reveal your cake..."
];
const typed = document.getElementById('typedText');

function typeLines(index=0){
  typed.innerText='';
  const s = lines[index];
  let i=0;
  const t = setInterval(()=>{ typed.textContent += s[i++] || ''; if(i> s.length){ clearInterval(t); if(index+1<lines.length) setTimeout(()=>typeLines(index+1),700); } }, 50);
}

/* ---------- gift click behavior ---------- */
const gift = document.getElementById('giftWrap');
const messageCard = document.getElementById('messageCard');
const cakeScene = document.getElementById('cakeScene');
const cutBtn = document.getElementById('cutBtn');
const lofi = document.getElementById('lofiSong');

gift.addEventListener('click', ()=>{
  // stop bounce & hide gift
  gift.style.transform='scale(.9)'; setTimeout(()=>gift.style.display='none',220);
  // show message card + start typing
  messageCard.style.display='block';
  typeLines(0);
  // after typing finishes, show cake & enable music
  setTimeout(()=>{
    cakeScene.style.display='block';
    document.getElementById('cake').style.opacity='1';
    cutBtn.style.display='inline-block';
  }, 3000 + lines.join('').length*24); // roughly wait for typing
  // play lofi song on user gesture (gift click) to avoid autoplay block
  lofi.volume = 0.45;
  lofi.loop = true;
  lofi.play().catch(()=>{ /* if blocked, will play when cake clicked */ });
});

/* ---------- cake click -> cut, confetti, reveal messages & photos ---------- */
const cake = document.getElementById('cake');
const msgs = document.querySelectorAll('.msg');
const photos = document.querySelectorAll('.gallery img');

function spawnConfetti(){
  const count = 120;
  for(let i=0;i<count;i++){
    const c = document.createElement('div');
    c.className='confetti';
    c.style.left = Math.random()*100+'vw';
    c.style.background = `hsl(${Math.random()*360},100%,60%)`;
    c.style.transform = `rotate(${Math.random()*360}deg)`;
    c.style.top = '-10px';
    c.style.opacity = (0.7+Math.random()*0.3);
    c.style.width = (6 + Math.random()*14)+'px';
    c.style.height = (8 + Math.random()*20)+'px';
    document.body.appendChild(c);
    // animate fall
    (function(el){
      const speed = 2 + Math.random()*6;
      const leftDrift = (Math.random()-0.5)*2;
      let top = -10;
      const id = setInterval(()=>{
        top += speed;
        el.style.top = top + 'px';
        el.style.left = (parseFloat(el.style.left) + leftDrift) + 'px';
        el.style.transform = `rotate(${parseFloat(el.style.transform.replace('rotate(','').replace('deg)','')) + 8}deg)`;
        if(top > window.innerHeight + 40){ clearInterval(id); el.remove(); }
      }, 18);
    })(c);
  }
}

let cakeCutDone = false;
cake.addEventListener('click', ()=>{
  if(cakeCutDone) return;
  cakeCutDone = true;
  cake.classList.add('cake-cut');
  cutBtn && (cutBtn.style.display='none');
  // ensure music plays (fallback)
  lofi.play().catch(()=>{});
  // confetti
  spawnConfetti();
  // show message card texts + photos in sequence
  setTimeout(()=>{
    document.getElementById('messagesWrap').style.display='block';
    msgs.forEach((m, idx)=> setTimeout(()=> m.classList.add('show'), 500 + idx*450));
    photos.forEach((p, idx)=> setTimeout(()=> p.classList.add('show'), 1200 + idx*350));
    // scroll down to messages
    setTimeout(()=> window.scrollTo({top: document.getElementById('messagesWrap').offsetTop - 20, behavior:'smooth'}), 900);
  }, 700);
});

/* ---------- safety: if audio blocked, play on next user click anywhere ---------- */
document.addEventListener('click', function tmpPlay(){
  lofi.play().catch(()=>{}); // try again
  document.removeEventListener('click', tmpPlay);
});
</script>
</body>
</html>
